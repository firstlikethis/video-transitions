# Space Journey Transition

อินเตอร์แอคทีฟเว็บแอปพลิเคชั่นที่จำลองการเดินทางในอวกาศ จากโลก ผ่านดาวยูเรนัส กาแล็กซี่ และสุดท้ายคือหลุมดำ ในแบบที่คล้ายกับในภาพยนตร์ Interstellar

## โครงสร้างโปรเจค

```
# โครงสร้างโปรเจคที่ปรับปรุงใหม่

โครงสร้างไฟล์ใหม่ของโปรเจคได้รับการปรับปรุงเพื่อให้มีการจัดการที่ดีขึ้น แยกส่วนที่ชัดเจน และรองรับฟีเจอร์ใหม่ โดยมีโครงสร้างดังนี้:

```
/space-journey-project/
  ├── index.html              # หน้าหลัก (ปรับปรุง)
  ├── css/
  │   └── style.css           # สไตล์ชีท (ปรับปรุง)
  ├── js/
  │   ├── main.js             # โค้ดหลักควบคุมการทำงาน (ปรับปรุง)
  │   ├── managers/
  │   │   ├── SceneManager.js         # จัดการฉากทั้งหมด (ปรับปรุง)
  │   │   ├── TransitionManager.js    # จัดการการเปลี่ยนฉาก (ใหม่)
  │   │   ├── TextureManager.js       # จัดการเท็กซ์เจอร์ (ใหม่)
  │   │   ├── PostProcessingManager.js # จัดการเอฟเฟกต์หลังการเรนเดอร์ (ใหม่)
  │   │   ├── AudioManager.js         # จัดการเสียง (ใหม่)
  │   │   └── EventManager.js         # จัดการอีเวนต์ (ใหม่)
  │   ├── scenes/
  │   │   ├── BaseScene.js            # คลาสพื้นฐานสำหรับทุกฉาก (ใหม่)
  │   │   ├── AdvancedEarthScene.js   # ฉากโลกแบบละเอียด (ปรับปรุง)
  │   │   ├── AdvancedUranusScene.js  # ฉากยูเรนัสแบบละเอียด (ปรับปรุง)
  │   │   ├── AdvancedGalaxyScene.js  # ฉากกาแลคซี่แบบละเอียด (ปรับปรุง)
  │   │   └── InterstellarBlackHoleScene.js # ฉากหลุมดำแบบ Interstellar (ใหม่)
  │   ├── utils/
  │   │   ├── Constants.js            # ค่าคงที่ทั้งหมดในโปรเจค (ใหม่)
  │   │   ├── ResizeHandler.js        # จัดการการปรับขนาดหน้าจอ (ปรับปรุง)
  │   │   ├── DeviceDetector.js       # ตรวจสอบประสิทธิภาพอุปกรณ์ (ใหม่)
  │   │   └── ShaderLibrary.js        # ไลบรารีเชดเดอร์ (ใหม่)
  │   ├── effects/
  │   │   ├── BloomEffect.js          # เอฟเฟกต์แสงเรือง (ใหม่)
  │   │   ├── ChromaticAberration.js  # เอฟเฟกต์ความผิดเพี้ยนของสี (ใหม่)
  │   │   ├── LensDistortion.js       # เอฟเฟกต์การบิดเบือนเลนส์ (ใหม่)
  │   │   └── TimeDilation.js         # เอฟเฟกต์การยืดเวลา (ใหม่)
  │   └── ui/
  │       ├── LoadingScreen.js        # หน้าจอโหลด (ใหม่)
  │       ├── ProgressBar.js          # แถบแสดงความคืบหน้า (ใหม่)
  │       └── OverlayManager.js       # จัดการโอเวอร์เลย์ (ใหม่)
  ├── assets/
  │   ├── textures/                   # ไฟล์เท็กซ์เจอร์ (เพิ่มเติม)
  │   │   ├── earth/                  # เท็กซ์เจอร์โลก (เพิ่ม textures คุณภาพสูง)
  │   │   ├── uranus/                 # เท็กซ์เจอร์ยูเรนัส (เพิ่ม textures คุณภาพสูง)
  │   │   ├── galaxy/                 # เท็กซ์เจอร์กาแลคซี่ (เพิ่ม textures คุณภาพสูง)
  │   │   ├── blackhole/              # เท็กซ์เจอร์หลุมดำ (ใหม่)
  │   │   └── effects/                # เท็กซ์เจอร์สำหรับเอฟเฟกต์ (ใหม่)
  │   ├── audio/                      # ไฟล์เสียง (ใหม่)
  │   │   ├── ambient/                # เสียงพื้นหลัง
  │   │   └── effects/                # เสียงเอฟเฟกต์
  │   └── shaders/                    # ไฟล์เชดเดอร์ (ใหม่)
  │       ├── vertex/                 # Vertex shaders
  │       └── fragment/               # Fragment shaders
  └── libs/                           # Libraries ภายนอก (เพิ่มเติม)
      ├── three.min.js                # Three.js หลัก
      ├── gsap.min.js                 # GSAP
      ├── EffectComposer.js           # Effect Composer
      ├── ShaderPass.js               # Shader Pass
      ├── RenderPass.js               # Render Pass
      ├── UnrealBloomPass.js          # Bloom Pass
      ├── FXAAShader.js               # FXAA Shader
      └── FilmPass.js                 # Film Pass
```

## ความสัมพันธ์ระหว่างไฟล์และการทำงาน

### 1. ลำดับการทำงานหลัก

เมื่อเปิดเว็บไซต์:

1. **index.html** โหลดไฟล์ CSS และ JavaScript ทั้งหมด
2. **main.js** เริ่มทำงาน:
   - สร้าง Managers ทั้งหมด (SceneManager, TextureManager ฯลฯ)
   - กำหนดค่า event listeners
   - แสดงหน้าจอโหลด

3. **TextureManager** โหลดเท็กซ์เจอร์ทั้งหมดโดยใช้ LoadingManager ของ Three.js
4. เมื่อโหลดเสร็จสิ้น แสดงหน้าจอเริ่มต้น (ผ่าน ui/OverlayManager)
5. เมื่อผู้ใช้คลิกปุ่ม "เริ่มการเดินทาง":
   - แสดงฉากเริ่มต้น (โลก)
   - เริ่มการเปลี่ยนฉากอัตโนมัติ
   - แสดง progress bar

### 2. กลไกการเปลี่ยนฉาก

เมื่อถึงเวลาเปลี่ยนฉาก:

1. **TransitionManager** จัดการการเปลี่ยนฉากโดยใช้ GSAP
   - จัดการการเคลื่อนที่และหมุนของกล้อง
   - สร้างเอฟเฟกต์ visual ระหว่างการเปลี่ยนฉาก
   - ประสานงานกับ AudioManager สำหรับเสียงการเปลี่ยนฉาก

2. **PostProcessingManager** ปรับเปลี่ยนเอฟเฟกต์หลังการเรนเดอร์ให้เหมาะกับฉากใหม่
3. **AudioManager** เปลี่ยนเสียงพื้นหลังให้เหมาะกับฉากใหม่

### 3. โครงสร้างของแต่ละฉาก

ทุกฉากสืบทอดจาก BaseScene ซึ่งมีเมธอดพื้นฐานเช่น:
- `constructor(scene, textures)` - สร้างฉาก
- `update(time)` - อัปเดตแอนิเมชัน
- `createInteractiveEffects(event)` - สร้างเอฟเฟกต์เมื่อผู้ใช้คลิก

แต่ละฉากจะประกอบด้วย:
- วัตถุหลัก (เช่น โลก, ยูเรนัส, กาแล็กซี่, หลุมดำ)
- องค์ประกอบเสริม (เช่น ชั้นบรรยากาศ, วงแหวน, อนุภาค)
- เอฟเฟกต์พิเศษเฉพาะฉาก (เช่น gravitational lensing)

### 4. การจัดการเท็กซ์เจอร์และวัสดุ

**TextureManager** รับผิดชอบ:
- โหลดเท็กซ์เจอร์ทั้งหมด
- สร้างวัสดุ (materials) คุณภาพสูง
- จัดการการตั้งค่าเท็กซ์เจอร์ (filtering, anisotropy, encoding)
- สร้างเท็กซ์เจอร์สำรองกรณีโหลดไม่สำเร็จ

### 5. ระบบเอฟเฟกต์หลังการเรนเดอร์

**PostProcessingManager** รับผิดชอบ:
- ตั้งค่า effect passes ต่างๆ (bloom, film grain, anti-aliasing)
- ปรับแต่งเอฟเฟกต์ตามฉาก
- เพิ่มเอฟเฟกต์พิเศษระหว่างการเปลี่ยนฉาก
- ปรับคุณภาพตามประสิทธิภาพอุปกรณ์

## สรุปการเปลี่ยนแปลงที่สำคัญ

1. **สถาปัตยกรรมแบบ Manager-Based**: แยกการจัดการแต่ละส่วนไปยัง manager เฉพาะทาง
2. **ฟีเจอร์อัตโนมัติ**: การเปลี่ยนฉากอัตโนมัติโดยไม่ต้องกดปุ่ม
3. **คุณภาพกราฟิกสูงขึ้น**: พอร์ตเชดเดอร์แบบ physically-based และเอฟเฟกต์หลังการเรนเดอร์
4. **ปรับตัวตามอุปกรณ์**: เพิ่มการตรวจสอบประสิทธิภาพและปรับคุณภาพโดยอัตโนมัติ
5. **เอฟเฟกต์ Interstellar**: การจำลองหลุมดำแบบมืออาชีพคล้ายภาพยนตร์
6. **การโต้ตอบสมจริง**: การคลิกสร้างเอฟเฟกต์ที่แตกต่างกันในแต่ละฉาก
7. **ระบบเสียงสมจริง**: เพิ่มเสียงพื้นหลังและเอฟเฟกต์ที่ปรับเปลี่ยนตามฉาก

โครงสร้างใหม่นี้ออกแบบให้ขยายได้ง่าย สามารถเพิ่มฉากใหม่ได้โดยเพียงแค่สร้างคลาสที่สืบทอดจาก BaseScene และจะได้รับประโยชน์จากระบบทั้งหมดโดยอัตโนมัติ
```

## การติดตั้ง

1. โคลนหรือดาวน์โหลดโปรเจคนี้
2. ตรวจสอบให้แน่ใจว่ามีไฟล์ libraries ใน folder `libs/` (ดูรายละเอียดใน libs/README.md)
3. ตรวจสอบให้แน่ใจว่ามีไฟล์ textures ใน folder `assets/textures/` (ดูรายละเอียดใน assets/README.md)
4. รันโปรเจคด้วย web server (เช่น Live Server ใน VS Code หรือใช้ Python: `python -m http.server`)

## การใช้งาน

- กดปุ่ม "Next" เพื่อเคลื่อนไปยังฉากถัดไป
- กดปุ่ม "Previous" เพื่อย้อนกลับไปยังฉากก่อนหน้า
- ทดลองรีไซส์เบราว์เซอร์เพื่อดูการตอบสนองต่อขนาดหน้าจอที่แตกต่างกัน

## คุณสมบัติหลัก

- แอนิเมชันและทรานสิชันที่ราบรื่นในการเดินทางผ่านวัตถุต่างๆ ในอวกาศ
- การสร้างกาแล็กซี่ด้วยระบบอนุภาค (particle system)
- การจำลองหลุมดำโดยใช้เทคนิค Shader ขั้นสูง (เช่น accretion disk และ gravitational lensing)
- การปรับตัวอัตโนมัติตามความละเอียดและความสามารถของอุปกรณ์
- การจัดการทรัพยากรที่มีประสิทธิภาพเพื่อการทำงานที่ราบรื่นบนอุปกรณ์ที่หลากหลาย

## เทคโนโลยีที่ใช้

- **Three.js**: สำหรับการสร้างและการเรนเดอร์ 3D กราฟิก
- **GSAP**: สำหรับแอนิเมชันที่มีประสิทธิภาพและทรานสิชัน
- **WebGL Shaders**: สำหรับเอฟเฟกต์พิเศษ เช่น accretion disk และ atmosphere glow

## ข้อกำหนดขั้นต่ำของระบบ

- เบราว์เซอร์ที่รองรับ WebGL (Chrome, Firefox, Safari, Edge รุ่นล่าสุด)
- การ์ดจอที่รองรับ WebGL
- แรม 4GB ขึ้นไป (แนะนำ 8GB)

## การแก้ไขปรับแต่ง

- ปรับแต่งพารามิเตอร์ของการเคลื่อนไหวใน js/scenes/*.js
- เปลี่ยนเท็กซ์เจอร์ใน assets/textures/ folder
- ปรับแต่ง shaders ในไฟล์ scene เพื่อสร้างเอฟเฟกต์ที่ต่างออกไป